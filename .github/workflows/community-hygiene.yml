name: Community Hygiene Guard

on:
  schedule:
    - cron: '0 2 * * *' # Run daily at 2:00 AM UTC
  workflow_dispatch:

jobs:
  stale-sweeper:
    name: "Architectural Stale Sweeper"
    runs-on: ubuntu-latest

    permissions:
      issues: write
      pull-requests: write

    steps:
      - name: ğŸ§¹ Mark and close stale architecture issues / PRs
        uses: actions/stale@v9
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          days-before-stale: 60
          days-before-close: 14
          stale-issue-message: >
            Greetings, Sovereign Collaborator. This issue has been automatically marked as stale because it has not had recent activity in 60 days. It will be closed in 14 days if no further activity occurs. Maintaining absolute architectural purity requires rapid iteration. ğŸŒŠâ™¾ï¸ğŸ’«
          stale-pr-message: >
            Greetings, Sovereign Collaborator. This PR has been automatically marked as stale because it has not had recent activity in 60 days. It will be closed in 14 days if no further activity occurs. Thank you for your contributions to the OS architecture. ğŸŒŠâ™¾ï¸ğŸ’«
          exempt-assignees: "yigremgetachewtamiru"
          exempt-issue-labels: "pinned,security,critical,architecture"
          stale-issue-label: "status: stale"
          stale-pr-label: "status: stale"
          operations-per-run: 100
